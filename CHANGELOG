# 2018-12-05
api-server配置 添加 Configure the Aggregation Layer
kube-apiserver flag:
    --proxy-client-cert-file string
        Client certificate used to prove the identity of the aggregator or kube-apiserver when it must call out during a request. This includes proxying requests
        to a user api-server and calling out to webhook admission plugins. It is expected that this cert includes a signature from the CA in the
        --requestheader-client-ca-file flag. That CA is published in the 'extension-apiserver-authentication' configmap in the kube-system namespace. Components
        receiving calls from kube-aggregator should use that CA to perform their half of the mutual TLS verification.
    --proxy-client-key-file string
        Private key for the client certificate used to prove the identity of the aggregator or kube-apiserver when it must call out during a request. This
        includes proxying requests to a user api-server and calling out to webhook admission plugins.
    --requestheader-allowed-names strings
        List of client certificate common names to allow to provide usernames in headers specified by --requestheader-username-headers. If empty, any client
        certificate validated by the authorities in --requestheader-client-ca-file is allowed.
    --requestheader-client-ca-file string
        Root certificate bundle to use to verify client certificates on incoming requests before trusting usernames in headers specified by
        --requestheader-username-headers. WARNING: generally do not depend on authorization being already done for incoming requests.
    --requestheader-extra-headers-prefix strings
        List of request header prefixes to inspect. X-Remote-Extra- is suggested.
    --requestheader-group-headers strings
        List of request headers to inspect for groups. X-Remote-Group is suggested.
    --requestheader-username-headers strings
        List of request headers to inspect for usernames. X-Remote-User is common.